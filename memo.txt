// Import the Firebase modules you need
import { initializeApp } from "https://www.gstatic.com/firebasejs/12.6.0/firebase-app.js";
import { getAuth, createUserWithEmailAndPassword, signInWithPopup, GoogleAuthProvider } from "https://www.gstatic.com/firebasejs/12.6.0/firebase-auth.js";

// Firebase config
const firebaseConfig = {
    apiKey: "AIzaSyDOys-HbHa7kSzgjvmWt603MvD7DSu0Z1c",
    authDomain: "final-year-project-96d1e.firebaseapp.com",
    projectId: "final-year-project-96d1e",
    storageBucket: "final-year-project-96d1e.appspot.com",
    messagingSenderId: "446412928993",
    appId: "1:446412928993:web:d72704b0280dccad1e84a0",
    measurementId: "G-NSSJJ15PRJ"
};

// Initialize Firebase
const app = initializeApp(firebaseConfig);
const auth = getAuth(app);
const provider = new GoogleAuthProvider();

// -------------------------- LOGIN --------------------------
// Get DOM elements
const emailInput = document.getElementById('email');
const passwordInput = document.getElementById('password');
const submitButton = document.getElementById('submit');
const googleButton = document.getElementById('google');

// Sign up with email and password
submitButton.addEventListener("click", (event) => {
    event.preventDefault();

    const email = emailInput.value;
    const password = passwordInput.value;

    if (!email || !password) {
        alert("Please enter both email and password");
        return;
    }

    createUserWithEmailAndPassword(auth, email, password)
        .then((userCredential) => {
            // Signed in 
            const user = userCredential.user;
            alert(`Account created successfully! Welcome ${user.email}`);
        })
        .catch((error) => {
            const errorCode = error.code;
            const errorMessage = error.message;
            alert(`Error (${errorCode}): ${errorMessage}`);
        });
});

// Sign in with Google
googleButton.addEventListener("click", () => {
    signInWithPopup(auth, provider)
        .then((result) => {
            const user = result.user;
            alert(`Signed in as ${user.displayName} (${user.email})`);
        })
        .catch((error) => {
            console.error(error);
            alert("Google sign-in failed. Try again!");
        });
});


-----------------------------------

<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Create Account</title>
    <link rel="stylesheet" href="../static/styles.css">
    <script type="module" src="../static/app.js"></script>
    <!-- Font Awesome for Google & Facebook icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>

<body>
    <div class="background">
        <div class="shape"></div>
        <div class="shape"></div>
    </div>

    <form id="signup-form">
        <h3>Create Account</h3>

        <label for="email">Email</label>
        <input type="email" placeholder="Email or Phone" id="email" required>

        <label for="password">Password</label>
        <input type="password" placeholder="Password" id="password" required>

        <button id="submit" type="submit">Create Account</button>

        <div class="social">
            <div class="google" id="google"><i class="fab fa-google"></i> Sign in with Google</div>
            <div class="fb" id="fb"><i class="fab fa-facebook"></i> Sign in with Facebook</div>
        </div>

        <p class="form-text">
            Already have an account? <span><a href="index.html">Login Here</a></span>
        </p>
    </form>
</body>

</html>
