<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>History</title>
    <!-- Styles -->
    <link rel="stylesheet" href="../static/css/styles.css">
</head>

<body>
    <div class="header">
        <div class="image-container">
            <img src="../static/images/ielts_logo2.png" alt="IELTS Logo" class="logo">
        </div>
        <div class="navigation-bar">
            <ul>
                <li><a href="{{ url_for('question_generator') }}">Question Generator</a></li>
                <li><a href="{{ url_for('automated_marking')}}">Automated Marking</a></li>
                <li><a href="{{ url_for('history') }}">History</a></li>
            </ul>
        </div>
        <div class="image-container">
            <span class="profile-name"></span>
            <img src="../static/images/profile.png" alt="profile-icon" class="profile">
        </div>
    </div>

    <middle>
        <div class="history-container">
            <div class="history-header">
                <h2>Your Practice History</h2>
                <p>Access and download your previously generated IELTS materials.</p>
            </div>
            
            <div id="history-list" class="history-grid">
                <div class="loader"></div>
            </div>
        </div>

        <template id="history-card-template">
            <div class="history-card">
                <div class="card-info">
                    <h3 class="set-name">Set #1</h3>
                    <p class="set-date">Date: 2025-12-23</p>
                    <p class="set-time">Time: 10:30 AM</p>
                </div>
                <div class="card-actions">
                    <div class="custom-select-wrapper">
                        <select class="file-dropdown">
                            <option value="" disabled selected>Select File...</option>
                        </select>
                        <button class="btn-download" onclick="downloadSelectedFile(this)">
                            Download
                        </button>
                    </div>
                </div>
            </div>
        </template>
    </middle>

    <!-- Preview Modal -->
    <div id="preview-modal" class="modal" style="display:none; position:fixed; top:0; left:0; right:0; bottom:0; background:rgba(0,0,0,0.6); align-items:center; justify-content:center; z-index:10000;">
        <div style="width:80%; height:80%; background:white; border-radius:8px; overflow:hidden; position:relative;">
            <button id="preview-close" style="position:absolute; right:8px; top:8px; z-index:10;">Close</button>
            <iframe id="preview-iframe" src="" style="width:100%; height:100%; border:0;"></iframe>
        </div>
    </div>

    <div class="footer">
        <div class="left-panel">
            <ul>
                <li>About Us</li>
                <li>Feedback</li>
                <li>FaQs</li>
            </ul>
        </div>

        <div class="right-panel">
            <h4>Contact Us</h4>
            <p>Email: support@ieltsapp.com</p>
            <p>Adress: 123 Jalan Akademik, Kuala Lumpur, Malaysia</p>
            <p>Phone: +60 123 456 789</p>
        </div>

    </div>

    <script src="../static/js/history.js"></script>
</body>

</html>